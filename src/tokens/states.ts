export const stateMap = {
    "a": {
        "l": {
            "a": {
                "b": {
                    "a": {
                        "m": {
                            "a": true
                        }
                    }
                },
                "s": {
                    "k": {
                        "a": true
                    }
                }
            }
        },
        "r": {
            "i": {
                "z": {
                    "o": {
                        "n": {
                            "a": true
                        }
                    }
                }
            },
            "k": {
                "a": {
                    "n": {
                        "s": {
                            "a": {
                                "s": true
                            }
                        }
                    }
                }
            }
        }
    },
    "c": {
        "a": {
            "l": {
                "i": {
                    "f": {
                        "o": {
                            "r": {
                                "n": {
                                    "i": {
                                        "a": true
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "o": {
            "l": {
                "o": {
                    "r": {
                        "a": {
                            "d": {
                                "o": true
                            }
                        }
                    }
                }
            },
            "n": {
                "n": {
                    "e": {
                        "c": {
                            "t": {
                                "i": {
                                    "c": {
                                        "u": {
                                            "t": true
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "d": {
        "e": {
            "l": {
                "a": {
                    "w": {
                        "a": {
                            "r": {
                                "e": true
                            }
                        }
                    }
                }
            }
        }
    },
    "f": {
        "l": {
            "o": {
                "r": {
                    "i": {
                        "d": {
                            "a": true
                        }
                    }
                }
            }
        }
    },
    "g": {
        "e": {
            "o": {
                "r": {
                    "g": {
                        "i": {
                            "a": true
                        }
                    }
                }
            }
        }
    },
    "h": {
        "a": {
            "w": {
                "a": {
                    "i": {
                        "i": true
                    }
                }
            }
        }
    },
    "i": {
        "d": {
            "a": {
                "h": {
                    "o": true
                }
            }
        },
        "l": {
            "l": {
                "i": {
                    "n": {
                        "o": {
                            "i": {
                                "s": true
                            }
                        }
                    }
                }
            }
        },
        "n": {
            "d": {
                "i": {
                    "a": {
                        "n": {
                            "a": true
                        }
                    }
                }
            }
        },
        "o": {
            "w": {
                "a": true
            }
        }
    },
    "k": {
        "a": {
            "n": {
                "s": {
                    "a": {
                        "s": true
                    }
                }
            }
        },
        "e": {
            "n": {
                "t": {
                    "u": {
                        "c": {
                            "k": {
                                "y": true
                            }
                        }
                    }
                }
            }
        }
    },
    "l": {
        "o": {
            "u": {
                "i": {
                    "s": {
                        "i": {
                            "a": {
                                "n": {
                                    "a": true
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "m": {
        "a": {
            "i": {
                "n": {
                    "e": true
                }
            },
            "r": {
                "y": {
                    "l": {
                        "a": {
                            "n": {
                                "d": true
                            }
                        }
                    }
                }
            },
            "s": {
                "s": {
                    "a": {
                        "c": {
                            "h": {
                                "u": {
                                    "s": {
                                        "e": {
                                            "t": {
                                                "t": {
                                                    "s": true
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "i": {
            "c": {
                "h": {
                    "i": {
                        "g": {
                            "a": {
                                "n": true
                            }
                        }
                    }
                }
            },
            "n": {
                "n": {
                    "e": {
                        "s": {
                            "o": {
                                "t": {
                                    "a": true
                                }
                            }
                        }
                    }
                }
            },
            "s": {
                "s": {
                    "i": {
                        "s": {
                            "s": {
                                "i": {
                                    "p": {
                                        "p": {
                                            "i": true
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "o": {
                        "u": {
                            "r": {
                                "i": true
                            }
                        }
                    }
                }
            }
        },
        "o": {
            "n": {
                "t": {
                    "a": {
                        "n": {
                            "a": true
                        }
                    }
                }
            }
        }
    },
    "n": {
        "e": {
            "b": {
                "r": {
                    "a": {
                        "s": {
                            "k": {
                                "a": true
                            }
                        }
                    }
                }
            },
            "v": {
                "a": {
                    "d": {
                        "a": true
                    }
                }
            },
            "w": {
                "-": {
                    "h": {
                        "a": {
                            "m": {
                                "p": {
                                    "s": {
                                        "h": {
                                            "i": {
                                                "r": {
                                                    "e": true
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "j": {
                        "e": {
                            "r": {
                                "s": {
                                    "e": {
                                        "y": true
                                    }
                                }
                            }
                        }
                    },
                    "m": {
                        "e": {
                            "x": {
                                "i": {
                                    "c": {
                                        "o": true
                                    }
                                }
                            }
                        }
                    },
                    "y": {
                        "o": {
                            "r": {
                                "k": true
                            }
                        }
                    }
                }
            }
        },
        "o": {
            "r": {
                "t": {
                    "h": {
                        "-": {
                            "c": {
                                "a": {
                                    "r": {
                                        "o": {
                                            "l": {
                                                "i": {
                                                    "n": {
                                                        "a": true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "d": {
                                "a": {
                                    "k": {
                                        "o": {
                                            "t": {
                                                "a": true
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "o": {
        "h": {
            "i": {
                "o": true
            }
        },
        "k": {
            "l": {
                "a": {
                    "h": {
                        "o": {
                            "m": {
                                "a": true
                            }
                        }
                    }
                }
            }
        },
        "r": {
            "e": {
                "g": {
                    "o": {
                        "n": true
                    }
                }
            }
        }
    },
    "p": {
        "e": {
            "n": {
                "n": {
                    "s": {
                        "y": {
                            "l": {
                                "v": {
                                    "a": {
                                        "n": {
                                            "i": {
                                                "a": true
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "r": {
        "h": {
            "o": {
                "d": {
                    "e": {
                        "-": {
                            "i": {
                                "s": {
                                    "l": {
                                        "a": {
                                            "n": {
                                                "d": true
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "s": {
        "o": {
            "u": {
                "t": {
                    "h": {
                        "-": {
                            "c": {
                                "a": {
                                    "r": {
                                        "o": {
                                            "l": {
                                                "i": {
                                                    "n": {
                                                        "a": true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "d": {
                                "a": {
                                    "k": {
                                        "o": {
                                            "t": {
                                                "a": true
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "t": {
        "e": {
            "n": {
                "n": {
                    "e": {
                        "s": {
                            "s": {
                                "e": {
                                    "e": true
                                }
                            }
                        }
                    }
                }
            },
            "x": {
                "a": {
                    "s": true
                }
            }
        }
    },
    "u": {
        "t": {
            "a": {
                "h": true
            }
        }
    },
    "v": {
        "e": {
            "r": {
                "m": {
                    "o": {
                        "n": {
                            "t": true
                        }
                    }
                }
            }
        },
        "i": {
            "r": {
                "g": {
                    "i": {
                        "n": {
                            "i": {
                                "a": true
                            }
                        }
                    }
                }
            }
        }
    },
    "w": {
        "a": {
            "s": {
                "h": {
                    "i": {
                        "n": {
                            "g": {
                                "t": {
                                    "o": {
                                        "n": true
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "e": {
            "s": {
                "t": {
                    "-": {
                        "v": {
                            "i": {
                                "r": {
                                    "g": {
                                        "i": {
                                            "n": {
                                                "i": {
                                                    "a": true
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "i": {
            "s": {
                "c": {
                    "o": {
                        "n": {
                            "s": {
                                "i": {
                                    "n": true
                                }
                            }
                        }
                    }
                }
            }
        },
        "y": {
            "o": {
                "m": {
                    "i": {
                        "n": {
                            "g": true
                        }
                    }
                }
            }
        }
    }
} as const;

export const matchState = (text: string, startOffset: number) => {
	let endOffset = startOffset;
	let char = text.charAt(endOffset);
	let ptr: any = stateMap;

	while (char in ptr) {
		endOffset++;
		if (ptr[char] === true) {
			return [text.substring(startOffset, endOffset)];
		} else {
			ptr = ptr[char];
		}
		char = text.charAt(endOffset);
	}

	return null;
}
